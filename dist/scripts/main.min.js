"use strict";function getClosestTime(e,t){for(var n=t[0],o=1;o<t.length;o++){if(e>n&&(n=t[o]),t[o]===e)return void(n=e);t[o]>e&&t[o]<n&&(n=t[o])}return n}function getTimeTillNext(e,t){var n=moment(e,"HH:mm:ss"),o=moment(t,"HH:mm:ss"),r=moment(o.diff(n)).format("mm:ss");return r}function getNextSubwayTime(){getSubwaySchedule(SUBWAY_ID).then(function(e){var t=e.data.result.arrivals,n=moment(),o=n.format("HH:mm:ss"),r=getClosestTime(o,t),i=getTimeTillNext(o,r);renderNext(i)})["catch"](function(e){renderError(e)})}function getSubwaySchedule(e){return axios.get("http://mtaapi.herokuapp.com/api?id="+e)}function renderNext(e){times_first.innerHTML=formatTextResponse(e)+"min",console.log("The next subway is in "+e)}function renderError(e){console.error(data)}function formatTextResponse(e){return e=e.split(":"),e=e[0],"0"==e[0]&&(e=e[1]),e}function triggerAnimations(){for(var e=document.querySelectorAll(".app-content_item"),t=0;t<e.length;t++)console.log(t),e[t].className="app-content_item";setTimeout(function(){for(var t=0;t<e.length;t++)e[t].className="app-content_item animate"},50)}function loop(){getNextSubwayTime(),setInterval(getNextSubwayTime,REFRESH_TIMER)}var SUBWAY_ID="G26N",REFRESH_TIMER=1e4,times_first=document.getElementById("subway-times_first"),times_second=document.getElementById("subway-times_second");loop();